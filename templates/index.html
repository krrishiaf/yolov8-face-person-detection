<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>YOLOv8 Image & Video Detection</title>
</head>

<body style="
    margin:0;
    min-height:100vh;
    background:linear-gradient(180deg, #020617, #020617);
    color:white;
    font-family:Arial, Helvetica, sans-serif;
    text-align:center;
">

    <!-- HEADER -->
    <div style="padding-top:40px;">
        <h1 style="color:#38bdf8; margin-bottom:8px;">
            YOLOv8 Image & Video Detection
        </h1>
        <p style="color:#cbd5f5; margin-top:0;">
            AI-powered human detection using YOLOv8
        </p>
    </div>

    <!-- UPLOAD FORM -->
    <div style="margin-top:30px;">
        <form method="POST" enctype="multipart/form-data" onsubmit="showLoading()">
            <input type="file" name="file" required>
            <br><br>
            <button type="submit"
                style="
                    padding:10px 22px;
                    background:#38bdf8;
                    border:none;
                    border-radius:8px;
                    font-size:15px;
                    font-weight:600;
                    cursor:pointer;
                    color:#020617;
                ">
                Run Detection
            </button>
        </form>

        <!-- LOADING MESSAGE -->
        <p id="loading" style="
            display:none;
            margin-top:20px;
            color:yellow;
            font-size:18px;
        ">
            ⏳ Processing… please wait  
            <br>
            <span style="font-size:14px; color:#facc15;">
                (Video may take up to 1–2 minutes)
            </span>
        </p>
    </div>

    <!-- RESULT SECTION -->
    {% if output_file %}
        <h2 style="margin-top:40px;">Result</h2>

        <!-- IMAGE RESULT -->
        {% if not is_video %}
            <img src="{{ output_file }}"
                 style="
                    margin-top:20px;
                    max-width:80%;
                    border-radius:14px;
                    box-shadow:0 20px 40px rgba(0,0,0,0.5);
                 ">
        {% endif %}

        <!-- VIDEO RESULT (DOWNLOAD CARD ONLY) -->
        {% if is_video %}
            <div style="
                margin:60px auto;
                max-width:420px;
                padding:30px;
                background:rgba(15,23,42,0.95);
                border:1px solid rgba(56,189,248,0.3);
                border-radius:16px;
                box-shadow:0 25px 50px rgba(0,0,0,0.45);
            ">

                <div style="font-size:48px; margin-bottom:12px;">
                    ⬇️
                </div>

                <h3 style="margin:0; color:#38bdf8;">
                    Processed Video Ready
                </h3>

                <p style="color:#94a3b8; font-size:14px; margin:10px 0 22px;">
                    Download the video to view detection results
                </p>

                <a href="{{ output_file }}" download
                   style="
                        display:inline-block;
                        padding:12px 28px;
                        background:#38bdf8;
                        color:#020617;
                        font-weight:600;
                        border-radius:10px;
                        text-decoration:none;
                        font-size:16px;
                   ">
                    Download Video
                </a>

                <p style="margin-top:14px; color:#64748b; font-size:12px;">
                    Best viewed in VLC or system video player
                </p>
            </div>
        {% endif %}
    {% endif %}

    <!-- FOOTER -->
    <footer style="
        margin-top:80px;
        padding-bottom:30px;
        font-size:14px;
        color:#64748b;
    ">
        Built by <strong>Krrish Ambwani</strong> · YOLOv8 + Flask
    </footer>

    <!-- JS -->
    <script>
        function showLoading() {
            document.getElementById("loading").style.display = "block";
        }
    </script>

</body>
</html>


